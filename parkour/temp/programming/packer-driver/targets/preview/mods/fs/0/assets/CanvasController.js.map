{"version":3,"sources":["file:///Users/frederickmo/Documents/GitHub/NaughtyMonkey/parkour/assets/CanvasController.ts"],"names":["v2","find","_decorator","Component","Label","RigidBody2D","Animation","director","BeeController","BEESTATE","HedgehogController","HedgehogSTATE","monkey_controller","monkey_state","TreeController","BirdController","HugeBirdController","StoneController","ccclass","property","LEVEL","CanvasController","LEVEL1","start","score","string","buff_count_number","mk_controller","buff_count","preloadScene","update","deltaTime","ltree","ltree_rgd","getComponent","ltree_speed","linearVelocity","y","mk_state","DEAD","loadScene","huge_bird","node","active","huge_bird_animation","play","score_during_time","score_improve_timeline","parseInt","Math","ceil","ltree2_rgd","ltree2","rtree_rgd","rtree","rtree2_rgd","rtree2","monkey_rgd","original_speed_ltree","original_speed_ltree2","original_speed_rtree","original_speed_rtree2","original_speed_monkey","level","LEVEL2","LEVEL3","LEVEL4","LEVEL5","hedgehog1","getPosition","state","rgd","animation","hedgehog2","hedgehog3","hedgehog4","bee","stone","reset","setTimeout","ALIVE","origin_speed"],"mappings":"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","sourcesContent":["\nimport {v2,find,_decorator, Component, Node, Prefab, resources, instantiate, Label, RigidBody2D, Animation, director } from 'cc';\nimport { BeeController, BEESTATE } from './BeeController';\nimport { HedgehogController, HedgehogSTATE } from './HedgehogController';\nimport { monkey_controller, monkey_state } from './monkey_controller';\nimport { TreeController } from './TreeController';\nimport { BirdController, BIRDSTATE } from './BirdController';\nimport { HugeBirdController } from './HugeBirdController'\nimport { StoneController } from './StoneController';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = CanvasController\n * DateTime = Mon Mar 14 2022 19:42:21 GMT+0800 (中国标准时间)\n * Author = AlexiosLHB\n * FileBasename = CanvasController.ts\n * FileBasenameNoExtension = CanvasController\n * URL = db://assets/CanvasController.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\n\nenum LEVEL{\n    LEVEL1,\n    LEVEL2,\n    LEVEL3,\n    LEVEL4,\n    LEVEL5\n}\n \n@ccclass('CanvasController')\nexport class CanvasController extends Component {\n\n    score_improve_timeline = 0.2;\n\n    score_during_time = 0;\n\n    buff_count_number: number\n\n    level = LEVEL.LEVEL1\n\n\n    @property(Label)\n    score:Label\n\n    @property(Label)\n    buff_count: Label\n\n    @property(monkey_controller)\n    mk_controller:monkey_controller\n\n    @property(HedgehogController)\n    hedgehog1:HedgehogController\n    @property(HedgehogController)\n    hedgehog2:HedgehogController\n    @property(HedgehogController)\n    hedgehog3:HedgehogController\n    @property(HedgehogController)\n    hedgehog4:HedgehogController\n    @property(BeeController)\n    bee:BeeController\n    @property(TreeController)\n    ltree:TreeController\n    @property(TreeController)\n    ltree2:TreeController\n    @property(TreeController)\n    rtree:TreeController\n    @property(TreeController)\n    rtree2:TreeController\n\n    @property(StoneController)\n    stone: StoneController\n\n    @property(BirdController)\n    bird: BirdController\n\n    @property(HugeBirdController)\n    huge_bird: HugeBirdController\n\n\n\n\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n\n\n    start () {\n\n        this.score.string = \"0\";\n        this.buff_count_number = this.mk_controller.buff_count;\n        this.buff_count.string = \"Buff: \" + this.buff_count_number;\n\n        // let restart_button = find(\"Canvas/RestartButton\");\n        // restart_button.active = false;\n\n        director.preloadScene(\"end_scene\");\n\n\n        \n\n        // [3]\n    }\n\n    update (deltaTime: number) {\n\n        let ltree = find(\"Canvas/ltree\");\n        let ltree_rgd = ltree.getComponent(RigidBody2D);\n        let ltree_speed = ltree_rgd.linearVelocity.y;\n\n        this.buff_count.string = \"Buff: \" + this.mk_controller.buff_count;\n\n        if (this.mk_controller.mk_state == monkey_state.DEAD) {\n            // let restart_button = find(\"Canvas/RestartButton\");\n            // restart_button.active = true;\n            director.loadScene(\"end_scene\");\n        }\n\n\n        // 吃到3个buff(砍杀3只鸟)之后暂时进入无敌状态3秒；之后恢复正常ALIVE状态\n        if (this.mk_controller.buff_count == 3) {\n            // 标志无敌状态，monkey的buff清零\n            this.buff_count.string = \"INVINCIBLE\";\n            this.mk_controller.buff_count = 0;\n            // 激发huge_bird节点\n            this.huge_bird.node.active = true;\n            let huge_bird_animation = this.huge_bird.getComponent(Animation);\n            huge_bird_animation.play(\"huge_bird_idle_blinking\");\n\n            // 暂时隐藏monnkey节点\n            this.mk_controller.node.active = false;\n\n            this.score_during_time += deltaTime;\n            if (this.score_during_time > this.score_improve_timeline) {\n                this.score_during_time = 0;\n                this.score.string = parseInt(this.score.string) + Math.ceil(-ltree_speed * deltaTime) + \"\";\n            }\n\n            let ltree_rgd = this.ltree.getComponent(RigidBody2D);\n            let ltree2_rgd = this.ltree2.getComponent(RigidBody2D);\n            let rtree_rgd = this.rtree.getComponent(RigidBody2D);\n            let rtree2_rgd = this.rtree2.getComponent(RigidBody2D);\n\n            let monkey_rgd = this.mk_controller.getComponent(RigidBody2D);\n\n            let original_speed_ltree = ltree_rgd.linearVelocity.y;\n            let original_speed_ltree2 = ltree2_rgd.linearVelocity.y;\n            let original_speed_rtree = rtree_rgd.linearVelocity.y;\n            let original_speed_rtree2 = rtree2_rgd.linearVelocity.y;\n            let original_speed_monkey = monkey_rgd.linearVelocity.y;\n\n            // 超高速移动\n            ltree_rgd.linearVelocity = v2(0, -100);\n            ltree2_rgd.linearVelocity = v2(0, -100);\n            rtree_rgd.linearVelocity = v2(0, -100);\n            rtree2_rgd.linearVelocity = v2(0, -100);\n\n            monkey_rgd.linearVelocity = v2(0, -100);\n\n\n            switch(this.level) {\n                case LEVEL.LEVEL1:\n                    if (parseInt(this.score.string) > 40) {\n                        this.level = LEVEL.LEVEL2;\n                    }\n                    break;\n                case LEVEL.LEVEL2:\n                    if (parseInt(this.score.string) > 80) {\n                        this.level = LEVEL.LEVEL3;\n                    }\n                    break;\n                case LEVEL.LEVEL3:\n                    if (parseInt(this.score.string) > 120) {\n                        this.level = LEVEL.LEVEL4;\n                    }\n                    break;\n                case LEVEL.LEVEL4:\n                    if (parseInt(this.score.string) > 150) {\n                        this.level = LEVEL.LEVEL5;\n                    }\n                    break;\n            }\n\n            if (this.hedgehog1.node.getPosition().y < 800) {\n                this.hedgehog1.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog1.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog1.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog2.node.getPosition().y < 800) {\n                this.hedgehog2.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog2.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog2.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog3.node.getPosition().y < 800) {\n                this.hedgehog3.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog3.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog3.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog4.node.getPosition().y < 800) {\n                this.hedgehog4.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog4.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog4.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n\n            if (this.bee.node.getPosition().y < 800) {\n                this.bee.state = BEESTATE.DEAD;\n                let rgd = this.bee.getComponent(RigidBody2D);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.bee.getComponent(Animation);\n                animation.play(\"Bee_Smoke\");\n            }\n\n            if (this.stone.node.getPosition().y < 800) {\n                let animation = this.stone.getComponent(Animation);\n                animation.play(\"stone_vanish\");\n                this.stone.reset();\n            }\n\n            // 无敌时间持续3秒\n            setTimeout(() => {\n                this.mk_controller.mk_state = monkey_state.ALIVE;\n                this.huge_bird.node.active = false;\n                this.mk_controller.node.active = true;\n                ltree_rgd.linearVelocity = v2(0, original_speed_ltree);\n                ltree2_rgd.linearVelocity = v2(0, original_speed_ltree2);\n                rtree_rgd.linearVelocity = v2(0, original_speed_rtree);\n                rtree2_rgd.linearVelocity = v2(0, original_speed_rtree2);\n                monkey_rgd.linearVelocity = v2(0, original_speed_monkey);\n            }, 3000);\n\n        }\n     \n        else if(this.mk_controller.mk_state == monkey_state.ALIVE) {\n            this.score_during_time+=deltaTime;\n            // let rtree = find(\"Canvas/rtree\");\n            // let rtree_rgd = rtree.getComponent(RigidBody2D);\n            // rtree_rgd.linearVelocity = ltree_rgd.linearVelocity;\n\n            // let ltree2 = find(\"Canvas/ltree2\");\n            // let ltree2_rgd = ltree2.getComponent(RigidBody2D);\n            // ltree2_rgd.linearVelocity = ltree_rgd.linearVelocity;\n\n\n            // let rtree2 = find(\"Canvas/rtree2\");\n            // let rtree2_rgd = rtree2.getComponent(RigidBody2D);\n            // rtree2_rgd.linearVelocity = ltree_rgd.linearVelocity;\n            if(this.score_during_time>this.score_improve_timeline){\n                this.score_during_time = 0;\n\n                this.score.string = parseInt(this.score.string)+Math.ceil(-ltree_speed*deltaTime)+\"\";\n            }\n\n            switch (this.level) {\n                case LEVEL.LEVEL1:\n                    if(parseInt(this.score.string)>40){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL2;\n                    }\n                    break;\n\n                case LEVEL.LEVEL2:\n                    if(parseInt(this.score.string)>80){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL3;\n\n                    }\n                    break;\n\n                case LEVEL.LEVEL3:\n                    if(parseInt(this.score.string)>120){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL4;\n\n                    }\n                    break;\n\n                case LEVEL.LEVEL4:\n                    if(parseInt(this.score.string)>150){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed -5);\n                        this.level = LEVEL.LEVEL5;\n\n                    }\n            }\n        }\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}