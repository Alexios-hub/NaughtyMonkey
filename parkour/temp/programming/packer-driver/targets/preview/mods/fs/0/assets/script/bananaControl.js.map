{"version":3,"sources":["file:///D:/ProjectFiles/cocosCreater/NaughtyMonkey/parkour/assets/script/bananaControl.ts"],"names":["_decorator","Component","PhysicsSystem2D","EPhysics2DDrawFlags","RigidBody2D","v2","v3","AudioSource","ccclass","property","bananaControl","onLoad","instance","enable","isDebug","debugDrawFlags","All","None","start","node","position","x","scale","getComponent","linearVelocity","audio","update","deltaTime","y","hp","destroy","BeEaten","addNumOfBanana","play","console","debug","die"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,mB,OAAAA,mB;AAAqBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,W,OAAAA,W;;;;;;;OAC3F;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;+BAGjBU,a,WADZF,OAAO,CAAC,eAAD,C,oCAAR,MACaE,aADb,SACmCT,SADnC,CAC6C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,sCAQ5B,CAR4B;;AAAA,yCAUtB,IAVsB;AAAA;;AAYzCU,QAAAA,MAAM,GAAG;AACL;AACAT,UAAAA,eAAe,CAACU,QAAhB,CAAyBC,MAAzB,GAAgC,IAAhC;;AACA,cAAG,KAAKC,OAAR,EAAiB;AACbZ,YAAAA,eAAe,CAACU,QAAhB,CAAyBG,cAAzB,GAA0CZ,mBAAmB,CAACa,GAA9D;AACH,WAFD,MAEO;AACHd,YAAAA,eAAe,CAACU,QAAhB,CAAyBG,cAAzB,GAA0CZ,mBAAmB,CAACc,IAA9D;AACH;AACJ;;AACDC,QAAAA,KAAK,GAAI;AACL,cAAG,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,CAAnB,GAAqB,CAAxB,EAA2B;AACvB,iBAAKF,IAAL,CAAUG,KAAV,GAAgBhB,EAAE,CAAC,CAAC,CAAF,EAAI,CAAJ,EAAM,CAAN,CAAlB;AACH;;AACD,eAAKiB,YAAL,CAAkBnB,WAAlB,EAA+BoB,cAA/B,GAA8CnB,EAAE,CAAC,CAAD,EAAG,CAAC,EAAJ,CAAhD;AACA,eAAKoB,KAAL,GAAW,KAAKN,IAAL,CAAUI,YAAV,CAAuBhB,WAAvB,CAAX;AACH;;AAEDmB,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AACvB,cAAG,KAAKR,IAAL,CAAUC,QAAV,CAAmBQ,CAAnB,GAAqB,CAAC,IAAzB,EAA8B;AAC1B,iBAAKC,EAAL;AACH;;AACD,cAAG,KAAKA,EAAL,GAAQ,CAAX,EAAa;AACT,iBAAKV,IAAL,CAAUW,OAAV;AACH;AACJ;;AAEDC,QAAAA,OAAO,GAAG;AACN,eAAKF,EAAL;AACA,eAAKG,cAAL;AACA,eAAKP,KAAL,CAAWQ,IAAX;AACAC,UAAAA,OAAO,CAACC,KAAR,CAAc,IAAd;AACH;;AAEDC,QAAAA,GAAG,GAAG;AACF,eAAKjB,IAAL,CAAUW,OAAV;AACH;;AA/CwC,O,kFAExCrB,Q;;;;;iBAC0B,K","sourcesContent":["\nimport { _decorator, Component, Node, PhysicsSystem2D, EPhysics2DDrawFlags, RigidBody2D, v2, v3, AudioSource } from 'cc';\nconst { ccclass, property } = _decorator;\n \n@ccclass('bananaControl')\nexport class bananaControl extends Component {\n\n    @property\n    private isDebug: boolean = false;\n\n    //加香蕉数量\n    addNumOfBanana: Function;\n\n    hp: number = 1;\n\n    audio: AudioSource=null;\n\n    onLoad() {\n        //开启物理系统\n        PhysicsSystem2D.instance.enable=true;\n        if(this.isDebug) {\n            PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.All;\n        } else {\n            PhysicsSystem2D.instance.debugDrawFlags = EPhysics2DDrawFlags.None;\n        }\n    }\n    start () {\n        if(this.node.position.x<0) {\n            this.node.scale=v3(-1,1,1);\n        }\n        this.getComponent(RigidBody2D).linearVelocity=v2(0,-15);\n        this.audio=this.node.getComponent(AudioSource);\n    }\n\n    update (deltaTime: number) {\n        if(this.node.position.y<-2200){\n            this.hp--;\n        }\n        if(this.hp<1){\n            this.node.destroy();\n        }\n    }\n\n    BeEaten() {\n        this.hp--;\n        this.addNumOfBanana();\n        this.audio.play();\n        console.debug('yy')\n    }\n\n    die() {\n        this.node.destroy();\n    }\n}\n\n"]}