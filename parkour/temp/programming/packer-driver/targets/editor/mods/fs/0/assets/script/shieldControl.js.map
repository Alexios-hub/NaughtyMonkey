{"version":3,"sources":["file:///D:/ProjectFiles/cocosCreater/NaughtyMonkey/parkour/assets/script/shieldControl.ts"],"names":["_decorator","Component","PhysicsSystem2D","RigidBody2D","v2","AudioSource","ccclass","property","shieldControl","onLoad","instance","enable","start","getComponent","linearVelocity","audio","node","update","deltaTime","position","y","hp","destroy","die","play"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,W,OAAAA,W;;;;;;;OAClE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;+BAGjBQ,a,WADZF,OAAO,CAAC,eAAD,C,yBAAR,MACaE,aADb,SACmCP,SADnC,CAC6C;AAAA;AAAA;;AAAA,sCAC5B,CAD4B;;AAAA,yCAGtB,IAHsB;AAAA;;AAKzCQ,QAAAA,MAAM,GAAG;AACL;AACAP,UAAAA,eAAe,CAACQ,QAAhB,CAAyBC,MAAzB,GAAkC,IAAlC;AACH;;AAEDC,QAAAA,KAAK,GAAI;AACL,eAAKC,YAAL,CAAkBV,WAAlB,EAA+BW,cAA/B,GAA8CV,EAAE,CAAC,CAAD,EAAG,CAAC,EAAJ,CAAhD;AACA,eAAKW,KAAL,GAAW,KAAKC,IAAL,CAAUH,YAAV,CAAuBR,WAAvB,CAAX;AACH;;AAEDY,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AACvB,cAAG,KAAKF,IAAL,CAAUG,QAAV,CAAmBC,CAAnB,GAAqB,CAAC,IAAzB,EAA+B;AAC3B,iBAAKC,EAAL;AACH;;AACD,cAAG,KAAKA,EAAL,GAAQ,CAAX,EAAc;AACV,iBAAKL,IAAL,CAAUM,OAAV;AACH;AACJ;;AAEDC,QAAAA,GAAG,GAAG;AACF,eAAKF,EAAL;AACA,eAAKN,KAAL,CAAWS,IAAX;AACH;;AA3BwC,O","sourcesContent":["\nimport { _decorator, Component, Node, PhysicsSystem2D, RigidBody2D, v2, AudioSource } from 'cc';\nconst { ccclass, property } = _decorator;\n \n@ccclass('shieldControl')\nexport class shieldControl extends Component {\n    hp: number = 1;\n\n    audio: AudioSource=null;\n\n    onLoad() {\n        //开启物理系统\n        PhysicsSystem2D.instance.enable = true;\n    }\n\n    start () {\n        this.getComponent(RigidBody2D).linearVelocity=v2(0,-15);\n        this.audio=this.node.getComponent(AudioSource);\n    }\n\n    update (deltaTime: number) {\n        if(this.node.position.y<-2200) {\n            this.hp--;\n        }\n        if(this.hp<1) {\n            this.node.destroy();\n        }\n    }\n\n    die() {\n        this.hp--;\n        this.audio.play();\n    }\n}\n"]}