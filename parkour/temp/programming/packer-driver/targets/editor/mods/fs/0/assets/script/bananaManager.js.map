{"version":3,"sources":["file:///D:/ProjectFiles/cocosCreater/NaughtyMonkey/parkour/assets/script/bananaManager.ts"],"names":["_decorator","Component","Prefab","instantiate","v3","Label","bananaControl","ccclass","property","bananaManager","start","schedule","appearBanana","time","Bnode","banana","setParent","node","x1","Math","random","position","getComponent","addNumOfBanana","num","console","debug","numLabel","string"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAiBC,MAAAA,E,OAAAA,E;AAAgBC,MAAAA,K,OAAAA,K;;AACtEC,MAAAA,a,iBAAAA,a;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;+BAIjBS,a,WADZF,OAAO,CAAC,eAAD,C,UAEHC,QAAQ,CAACN,MAAD,C,UAIRM,QAAQ,CAACH,KAAD,C,oCANb,MACaI,aADb,SACmCR,SADnC,CAC6C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,wCAS1B,CAT0B;;AAAA,uCAY3B,CAZ2B;AAAA;;AAczCS,QAAAA,KAAK,GAAI;AACL,eAAKC,QAAL,CAAc,MAAI;AACd,iBAAKC,YAAL;AACH,WAFD,EAEE,KAAKC,IAFP;AAIH,SAnBwC,CAqBzC;;;AACAD,QAAAA,YAAY,GAAG;AACX,cAAIE,KAAK,GAACX,WAAW,CAAC,KAAKY,MAAN,CAArB;AACAD,UAAAA,KAAK,CAACE,SAAN,CAAgB,KAAKC,IAArB;AACA,cAAIC,EAAU,GAAC,CAAC,GAAhB;;AACA,cAAGC,IAAI,CAACC,MAAL,KAAc,EAAd,GAAiB,CAApB,EAAsB;AAClBF,YAAAA,EAAE,GAAC,GAAH;AACH;;AACDJ,UAAAA,KAAK,CAACO,QAAN,GAAejB,EAAE,CAACc,EAAD,EAAI,CAAJ,EAAM,CAAN,CAAjB,CAPW,CAQX;;AACAJ,UAAAA,KAAK,CAACQ,YAAN;AAAA;AAAA,8CAAkCC,cAAlC,GAAmD,MAAI;AACnD,gBAAG,KAAKC,GAAL,GAAS,CAAZ,EAAc;AACV,mBAAKA,GAAL;AACH,aAFD,MAEM;AACF,mBAAKA,GAAL,GAAS,CAAT;AACH;;AACDC,YAAAA,OAAO,CAACC,KAAR,CAAc,KAAKF,GAAnB;AACA,iBAAKG,QAAL,CAAcC,MAAd,GAAqB,KAAKJ,GAAL,GAAS,EAA9B;AACH,WARD;AASH;;AAxCwC,O;;;;;iBAE1B,I;;;;;;;iBAIC,I","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate, v2, v3, math, quat, Label } from 'cc';\nimport { bananaControl } from './bananaControl';\nconst { ccclass, property } = _decorator;\n\n \n@ccclass('bananaManager')\nexport class bananaManager extends Component {\n    @property(Prefab)\n    banana: Prefab=null;\n\n    //香蕉数UI\n    @property(Label)\n    numLabel: Label=null;\n\n    //产生香蕉的时间间隔s\n    time: number = 1;\n\n    //积累的香蕉数量\n    num: number = 0;\n\n    start () {\n        this.schedule(()=>{\n            this.appearBanana();\n        },this.time)\n\n    }\n\n    //产生香蕉\n    appearBanana() {\n        let Bnode=instantiate(this.banana);\n        Bnode.setParent(this.node);\n        let x1: number=-300;\n        if(Math.random()*10>5){\n            x1=320;\n        }\n        Bnode.position=v3(x1,0,0);\n        //吃到香蕉，添加数量\n        Bnode.getComponent(bananaControl).addNumOfBanana = ()=>{\n            if(this.num<2){\n                this.num++;\n            }else {\n                this.num=0;\n            }\n            console.debug(this.num)\n            this.numLabel.string=this.num+\"\";\n        };\n    }\n\n}\n\n"]}