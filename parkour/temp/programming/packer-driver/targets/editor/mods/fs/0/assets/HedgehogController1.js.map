{"version":3,"sources":["file:///Users/liuhongbo/parkour/assets/HedgehogController1.ts"],"names":["_decorator","Component","find","ccclass","property","HedgehogController","Number","judge","i","node","Math","abs","position","y","reset","l_or_r","random","setScale","setPosition","start","ifup","update","deltaTime","getPosition","ifrevert"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;oCAGaK,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACE,MAAD,C,oCAFb,MACaD,kBADb,SACwCJ,SADxC,CACkD;AAAA;AAAA;;AAAA;AAAA;;AAG9C;AACA;AAEA;AACA;AACA;AACAM,QAAAA,KAAK,GAAE;AACH,eAAI,IAAIC,CAAC,GAAE,CAAX,EAAaA,CAAC,GAAC,CAAf,EAAiBA,CAAC,EAAlB,EAAqB;AACjB,gBAAIC,IAAI,GAAGP,IAAI,CAAC,oBAAkBM,CAAnB,CAAf;AACA,gBAAGE,IAAI,CAACC,GAAL,CAASF,IAAI,CAACG,QAAL,CAAcC,CAAd,GAAgB,KAAKA,CAA9B,KAAkC,GAArC,EAAyC,OAAO,KAAP;AAC5C;;AACD,iBAAO,IAAP;AACH;;AACDC,QAAAA,KAAK,GAAE;AACH,cAAIC,MAAM,GAAGL,IAAI,CAACM,MAAL,EAAb;;AACI,cAAGD,MAAM,GAAC,GAAV,EAAc;AACV,iBAAKN,IAAL,CAAUQ,QAAV,CAAmB,CAAC,IAApB,EAAyB,IAAzB,EAA8B,IAA9B;AACA,iBAAKR,IAAL,CAAUS,WAAV,CAAsB,GAAtB,EAA0B,KAAKL,CAA/B,EAAiC,CAAjC;AAEH,WAJD,MAKI;AACA,iBAAKJ,IAAL,CAAUQ,QAAV,CAAmB,CAAC,IAApB,EAAyB,CAAC,IAA1B,EAA+B,IAA/B;AACA,iBAAKR,IAAL,CAAUS,WAAV,CAAsB,CAAC,GAAvB,EAA2B,KAAKL,CAAhC,EAAkC,CAAlC;AACH;AAER;;AAEDM,QAAAA,KAAK,GAAI;AACL,cAAIC,IAAI,GAAGV,IAAI,CAACM,MAAL,EAAX;;AACA,cAAGI,IAAI,GAAC,IAAR,EAAa;AACT,iBAAKN,KAAL;AACH,WAFD,MAGI;AACA,iBAAKL,IAAL,CAAUS,WAAV,CAAsB,GAAtB,EAA0B,CAAC,IAA3B,EAAgC,CAAhC;AACH,WAPI,CAQL;;AACH;;AAEDG,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AACvB,cAAG,KAAKb,IAAL,CAAUc,WAAV,GAAwBV,CAAxB,GAA0B,CAAC,GAA3B,IAAgC,KAAKN,KAAL,EAAnC,EACA;AAAC,gBAAIiB,QAAQ,GAAGd,IAAI,CAACM,MAAL,EAAf;;AACG,gBAAGQ,QAAQ,GAAC,GAAZ,EAAgB;AACZ,mBAAKV,KAAL;AACH;AACJ,WANsB,CAQvB;;AACH;;AAlD6C,O;;;;;;AAqDlD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, find } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = HedgehogController\n * DateTime = Tue Mar 15 2022 09:20:12 GMT+0800 (中国标准时间)\n * Author = AlexiosLHB\n * FileBasename = HedgehogController.ts\n * FileBasenameNoExtension = HedgehogController\n * URL = db://assets/HedgehogController.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n \n@ccclass('HedgehogController')\nexport class HedgehogController extends Component {\n    @property(Number)\n    y:number\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n    judge(){\n        for(var i =1;i<5;i++){\n            var node = find(\"Canvas/Hedgehog\"+i);\n            if(Math.abs(node.position.y-this.y)<=300)return false;\n        }\n        return true;\n    }\n    reset(){\n        let l_or_r = Math.random();\n            if(l_or_r>0.5){\n                this.node.setScale(-0.25,0.25,0.25);\n                this.node.setPosition(340,this.y,0);\n\n            }\n            else{\n                this.node.setScale(-0.25,-0.25,0.25);\n                this.node.setPosition(-326,this.y,0);\n            }\n\n    }\n\n    start () {\n        let ifup = Math.random();\n        if(ifup<0.65){\n            this.reset();\n        }\n        else{\n            this.node.setPosition(340,-1000,0);\n        }\n        // [3]\n    }\n\n    update (deltaTime: number) {\n        if(this.node.getPosition().y<-870&&this.judge())\n        {let ifrevert = Math.random();\n            if(ifrevert<0.7){\n                this.reset();\n            }\n        }\n        \n        // [4]\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}