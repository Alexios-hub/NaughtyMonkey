{"version":3,"sources":["file:///Users/frederickmo/Documents/GitHub/NaughtyMonkey/parkour/assets/CanvasController.ts"],"names":["v2","find","_decorator","Component","Label","RigidBody2D","Animation","BeeController","BEESTATE","HedgehogController","HedgehogSTATE","monkey_controller","monkey_state","TreeController","BirdController","HugeBirdController","StoneController","ccclass","property","LEVEL","CanvasController","LEVEL1","start","score","string","buff_count_number","mk_controller","buff_count","update","deltaTime","ltree","ltree_rgd","getComponent","ltree_speed","linearVelocity","y","huge_bird","node","active","huge_bird_animation","play","score_during_time","score_improve_timeline","parseInt","Math","ceil","ltree2_rgd","ltree2","rtree_rgd","rtree","rtree2_rgd","rtree2","monkey_rgd","original_speed_ltree","original_speed_ltree2","original_speed_rtree","original_speed_rtree2","original_speed_monkey","level","LEVEL2","LEVEL3","LEVEL4","LEVEL5","hedgehog1","getPosition","state","DEAD","rgd","animation","hedgehog2","hedgehog3","hedgehog4","bee","stone","reset","setTimeout","mk_state","ALIVE","origin_speed"],"mappings":"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","sourcesContent":["\nimport {v2,find,_decorator, Component, Node, Prefab, resources, instantiate, Label, RigidBody2D, Animation } from 'cc';\nimport { BeeController, BEESTATE } from './BeeController';\nimport { HedgehogController, HedgehogSTATE } from './HedgehogController';\nimport { monkey_controller, monkey_state } from './monkey_controller';\nimport { TreeController } from './TreeController';\nimport { BirdController, BIRDSTATE } from './BirdController';\nimport { HugeBirdController } from './HugeBirdController'\nimport { StoneController } from './StoneController';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = CanvasController\n * DateTime = Mon Mar 14 2022 19:42:21 GMT+0800 (中国标准时间)\n * Author = AlexiosLHB\n * FileBasename = CanvasController.ts\n * FileBasenameNoExtension = CanvasController\n * URL = db://assets/CanvasController.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\n\nenum LEVEL{\n    LEVEL1,\n    LEVEL2,\n    LEVEL3,\n    LEVEL4,\n    LEVEL5\n}\n \n@ccclass('CanvasController')\nexport class CanvasController extends Component {\n\n    score_improve_timeline = 0.2;\n\n    score_during_time = 0;\n\n    buff_count_number: number\n\n    level = LEVEL.LEVEL1\n\n\n    @property(Label)\n    score:Label\n\n    @property(Label)\n    buff_count: Label\n\n    @property(monkey_controller)\n    mk_controller:monkey_controller\n\n    @property(HedgehogController)\n    hedgehog1:HedgehogController\n    @property(HedgehogController)\n    hedgehog2:HedgehogController\n    @property(HedgehogController)\n    hedgehog3:HedgehogController\n    @property(HedgehogController)\n    hedgehog4:HedgehogController\n    @property(BeeController)\n    bee:BeeController\n    @property(TreeController)\n    ltree:TreeController\n    @property(TreeController)\n    ltree2:TreeController\n    @property(TreeController)\n    rtree:TreeController\n    @property(TreeController)\n    rtree2:TreeController\n\n    @property(StoneController)\n    stone: StoneController\n\n    @property(BirdController)\n    bird: BirdController\n\n    @property(HugeBirdController)\n    huge_bird: HugeBirdController\n\n\n\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n\n\n    start () {\n\n        this.score.string = \"0\";\n        this.buff_count_number = this.mk_controller.buff_count;\n        this.buff_count.string = \"Buff: \" + this.buff_count_number;\n\n\n        \n\n        // [3]\n    }\n\n    update (deltaTime: number) {\n\n        let ltree = find(\"Canvas/ltree\");\n        let ltree_rgd = ltree.getComponent(RigidBody2D);\n        let ltree_speed = ltree_rgd.linearVelocity.y;\n\n        this.buff_count.string = \"Buff: \" + this.mk_controller.buff_count;\n        if (this.mk_controller.buff_count == 1) {\n            // 标志无敌状态，monkey的buff清零\n            this.buff_count.string = \"INVINCIBLE\";\n            this.mk_controller.buff_count = 0;\n            // 激发huge_bird节点\n            this.huge_bird.node.active = true;\n            let huge_bird_animation = this.huge_bird.getComponent(Animation);\n            huge_bird_animation.play(\"huge_bird_idle_blinking\");\n\n            // 暂时隐藏monnkey节点\n            this.mk_controller.node.active = false;\n\n            this.score_during_time += deltaTime;\n            if (this.score_during_time > this.score_improve_timeline) {\n                this.score_during_time = 0;\n                this.score.string = parseInt(this.score.string) + Math.ceil(-ltree_speed * deltaTime) + \"\";\n            }\n\n            let ltree_rgd = this.ltree.getComponent(RigidBody2D);\n            let ltree2_rgd = this.ltree2.getComponent(RigidBody2D);\n            let rtree_rgd = this.rtree.getComponent(RigidBody2D);\n            let rtree2_rgd = this.rtree2.getComponent(RigidBody2D);\n\n            let monkey_rgd = this.mk_controller.getComponent(RigidBody2D);\n\n            let original_speed_ltree = ltree_rgd.linearVelocity.y;\n            let original_speed_ltree2 = ltree2_rgd.linearVelocity.y;\n            let original_speed_rtree = rtree_rgd.linearVelocity.y;\n            let original_speed_rtree2 = rtree2_rgd.linearVelocity.y;\n            let original_speed_monkey = monkey_rgd.linearVelocity.y;\n\n            // 超高速移动\n            ltree_rgd.linearVelocity = v2(0, -100);\n            ltree2_rgd.linearVelocity = v2(0, -100);\n            rtree_rgd.linearVelocity = v2(0, -100);\n            rtree2_rgd.linearVelocity = v2(0, -100);\n\n            monkey_rgd.linearVelocity = v2(0, -100);\n\n\n            switch(this.level) {\n                case LEVEL.LEVEL1:\n                    if (parseInt(this.score.string) > 40) {\n                        this.level = LEVEL.LEVEL2;\n                    }\n                    break;\n                case LEVEL.LEVEL2:\n                    if (parseInt(this.score.string) > 80) {\n                        this.level = LEVEL.LEVEL3;\n                    }\n                    break;\n                case LEVEL.LEVEL3:\n                    if (parseInt(this.score.string) > 120) {\n                        this.level = LEVEL.LEVEL4;\n                    }\n                    break;\n                case LEVEL.LEVEL4:\n                    if (parseInt(this.score.string) > 150) {\n                        this.level = LEVEL.LEVEL5;\n                    }\n                    break;\n            }\n\n            if (this.hedgehog1.node.getPosition().y < 800) {\n                this.hedgehog1.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog1.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog1.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog2.node.getPosition().y < 800) {\n                this.hedgehog2.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog2.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog2.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog3.node.getPosition().y < 800) {\n                this.hedgehog3.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog3.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog3.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n            if (this.hedgehog4.node.getPosition().y < 800) {\n                this.hedgehog4.state = HedgehogSTATE.DEAD;\n                let rgd = this.hedgehog4.getComponent(RigidBody2D);\n                // rgd.linearVelocity = v2(0, this.hedgehog1.speed);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.hedgehog4.getComponent(Animation);\n                animation.play(\"Hedgehog_Smoke\");\n            }\n\n            if (this.bee.node.getPosition().y < 800) {\n                this.bee.state = BEESTATE.DEAD;\n                let rgd = this.bee.getComponent(RigidBody2D);\n                rgd.linearVelocity = v2(0, -100);\n                let animation = this.bee.getComponent(Animation);\n                animation.play(\"Bee_Smoke\");\n            }\n\n            if (this.stone.node.getPosition().y < 800) {\n                let animation = this.stone.getComponent(Animation);\n                animation.play(\"stone_vanish\");\n                this.stone.reset();\n            }\n\n            setTimeout(() => {\n                this.mk_controller.mk_state = monkey_state.ALIVE;\n                this.huge_bird.node.active = false;\n                this.mk_controller.node.active = true;\n                ltree_rgd.linearVelocity = v2(0, original_speed_ltree);\n                ltree2_rgd.linearVelocity = v2(0, original_speed_ltree2);\n                rtree_rgd.linearVelocity = v2(0, original_speed_rtree);\n                rtree2_rgd.linearVelocity = v2(0, original_speed_rtree2);\n                monkey_rgd.linearVelocity = v2(0, original_speed_monkey);\n            }, 3000);\n\n        }\n     \n        else if(this.mk_controller.mk_state == monkey_state.ALIVE) {\n            this.score_during_time+=deltaTime;\n            // let rtree = find(\"Canvas/rtree\");\n            // let rtree_rgd = rtree.getComponent(RigidBody2D);\n            // rtree_rgd.linearVelocity = ltree_rgd.linearVelocity;\n\n            // let ltree2 = find(\"Canvas/ltree2\");\n            // let ltree2_rgd = ltree2.getComponent(RigidBody2D);\n            // ltree2_rgd.linearVelocity = ltree_rgd.linearVelocity;\n\n\n            // let rtree2 = find(\"Canvas/rtree2\");\n            // let rtree2_rgd = rtree2.getComponent(RigidBody2D);\n            // rtree2_rgd.linearVelocity = ltree_rgd.linearVelocity;\n            if(this.score_during_time>this.score_improve_timeline){\n                this.score_during_time = 0;\n\n                this.score.string = parseInt(this.score.string)+Math.ceil(-ltree_speed*deltaTime)+\"\";\n            }\n\n            switch (this.level) {\n                case LEVEL.LEVEL1:\n                    if(parseInt(this.score.string)>40){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL2;\n                    }\n                    break;\n\n                case LEVEL.LEVEL2:\n                    if(parseInt(this.score.string)>80){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL3;\n\n                    }\n                    break;\n\n                case LEVEL.LEVEL3:\n                    if(parseInt(this.score.string)>120){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed-5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed-5);\n                        this.level = LEVEL.LEVEL4;\n\n                    }\n                    break;\n\n                case LEVEL.LEVEL4:\n                    if(parseInt(this.score.string)>150){\n                        let ltree_rgd= this.ltree.getComponent(RigidBody2D);\n                        let origin_speed = ltree_rgd.linearVelocity.y;\n                        ltree_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let ltree2_rgd= this.ltree2.getComponent(RigidBody2D);\n                        ltree2_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let rtree_rgd= this.rtree.getComponent(RigidBody2D);\n                        rtree_rgd.linearVelocity = v2(0,origin_speed -5);\n                        let rtree2_rgd= this.rtree2.getComponent(RigidBody2D);\n                        rtree2_rgd.linearVelocity = v2(0,origin_speed -5);\n                        this.level = LEVEL.LEVEL5;\n\n                    }\n            }\n        }\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}